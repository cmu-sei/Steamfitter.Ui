<!--
Copyright 2021 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->

<div
    class="component-container mat-elevation-z8 scroll-container"
    *ngIf="!!userScenario"
  >

  <div class="cssLayoutRowStartCenter">
    <div class="cssLayoutRowSpaceBetween">
      <div class="sp-icon">
        <mat-icon
          class="icon-24px"
          [ngStyle]="{ color: topbarColor }"
          svgIcon="input"
          alt="input"
        ></mat-icon>
      </div>
      <div style="width: 40px"></div>
      <div class="title">
        <h4>Build and Execute a Task</h4>
      </div>
      <div style="width: 40px"></div>
    </div>
    <div class="add-margin" (click)="$event.stopPropagation()">
      <mat-form-field>
        <mat-label >Select a View</mat-label>
        <mat-select
          [value]="selectedView | async"
          (selectionChange)="onViewChange($event)"
        >
          <mat-option *ngFor="let view of viewList | async" [value]="view">
            {{ view.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <div>
    <app-tasks
      [taskList]="taskList"
      [resultList]="results"
      [scenarioId]="userScenario.id"
      [isEditable]="true"
      [isExecutable]="true"
      (taskListChanged)="refreshTaskList()"
      (deleteTaskRequested)="deleteTask($event)"
    ></app-tasks>
  </div>

</div>
